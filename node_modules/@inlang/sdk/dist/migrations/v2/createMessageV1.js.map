{"version":3,"file":"createMessageV1.js","sourceRoot":"/","sources":["migrations/v2/createMessageV1.ts"],"names":[],"mappings":"AAKA;;;;;;;;;GASG;AACH,MAAM,CAAC,MAAM,eAAe,GAAG,CAC9B,EAAU,EACV,QAA4C,EAC3C,EAAE,CACH,CAAC;IACA,EAAE;IACF,KAAK,EAAE,EAAE;IACT,SAAS,EAAE,EAAE;IACb,QAAQ,EAAE,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,WAAW,EAAE,QAAQ,CAAC,EAAE,EAAE,CAAC,CAAC;QACpE,WAAW;QACX,KAAK,EAAE,EAAE;QACT,OAAO,EACN,OAAO,QAAQ,KAAK,QAAQ;YAC3B,CAAC,CAAC;gBACA;oBACC,IAAI,EAAE,MAAM;oBACZ,KAAK,EAAE,QAAQ;iBACf;aACD;YACF,CAAC,CAAC,QAAQ;KACZ,CAAC,CAAC;CACH,CAAqB,CAAC","sourcesContent":["import type {\n\tMessageV1,\n\tPatternV1,\n} from \"../../json-schema/old-v1-message/schemaV1.js\";\n\n/**\n * @deprecated don't use the messageV1 type anymore.\n *\n * This function exists to ease migrations of v1 plugins to v2 plugins.\n * The tests can call `createMessageV1` to create a message object that satisfies the v1 schema.\n *\n * @example\n *   - createMessage(\"id\", { \"en\": \"Hello\" })\n *   + createMessageV1(\"id\", { \"en\": \"Hello\" })\n */\nexport const createMessageV1 = (\n\tid: string,\n\tpatterns: Record<string, PatternV1 | string>\n) =>\n\t({\n\t\tid,\n\t\talias: {},\n\t\tselectors: [],\n\t\tvariants: Object.entries(patterns).map(([languageTag, patterns]) => ({\n\t\t\tlanguageTag,\n\t\t\tmatch: [],\n\t\t\tpattern:\n\t\t\t\ttypeof patterns === \"string\"\n\t\t\t\t\t? [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: \"Text\",\n\t\t\t\t\t\t\t\tvalue: patterns,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]\n\t\t\t\t\t: patterns,\n\t\t})),\n\t}) satisfies MessageV1;\n"]}